@model List<Dashboards_Web.Models.TaskModel>
@{
    ViewBag.Title = "Index";
}
<style>
    .rowBorder {
        border: 2px solid #337ab7;
        border-radius: 2px;
        padding: 2px;
    }

    .info th {
        background: #607d8b !important;
    }

    .info th {
        color: white;
        font-weight: bold;
        font-size: medium;
    }

    .webgrid-footer {
        background: #607d8b;
        text-align: center;
        color: white;
        font-weight: bold;
        font-size: medium;
    }

    .divScroll {
        overflow-y: auto;
        background-color: white;
        max-height: 560px;
        text-align: justify;
    }
</style>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-11">
            <table class="table table-bordered table-hover" style="text-align:center;">
                <thead class="info" style="color:#607d8b;text-align:center !important;font-size:18px;">
                    <tr>
                        <th style="margin-right:4px">Total Records: @Model.Count</th>
                        <th>Last Updated Date:@ViewBag.LstUpdatedDt</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
    <div class="row rowBorder" id="rowDiv" style="margin-bottom:5px;">
        <div class="col-sm-12" style="padding: 0; margin: 0;">
            <div class="divScroll">
                @{
                    var gridTask = new WebGrid(
                                        canPage: false,
                                        fieldNamePrefix: "tktTask",
                                        canSort: false,
                                        ajaxUpdateContainerId: "gridTask"
                                        );

                    gridTask.Bind(Model, autoSortAndPage: false);


                    @gridTask.GetHtml(htmlAttributes: new { id = "gridTask" },
                                                  fillEmptyRows: false,
                                                  tableStyle: "table table-bordered table-hover",
                                                  mode: WebGridPagerModes.All,
                                                  headerStyle: "info",
                                                  footerStyle: "webgrid-footer",
                                                  columns: gridTask.Columns(
                                                  gridTask.Column("Id", "Task No."),//, format:@<text><a href="https://portal.microsofticm.com/imp/v3/incidents/details/@item.IncidentId/home" target="_blank">@item.IncidentId</a></text>, canSort: true),
             gridTask.Column("CreatedDate", "Created Date"),
             gridTask.Column("Title", "Title", format: @<text>@item.Title.ToString().Substring(0, (item.Title.Length > 60 ? 60 : item.Title.Length))</text>+ "..."),
gridTask.Column("Machines", "Machine Name(s)"),
//gridTask.Column("State", "Status"),
gridTask.Column("MachineCount", "Machines Count")

)
);
                }
            </div>
        </div>
    </div>
</div>
